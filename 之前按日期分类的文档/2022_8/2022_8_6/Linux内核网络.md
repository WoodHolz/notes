# `Linux`内核网络

## 重要数据结构

* `Socket Buffer`数据结构`sk_buff`

* 网络设备数据结构`net_device`

> 程序的运行就是：读取数据结构的相关数据域，获取实体的属性，根据它们的当前值来分析数据包/网络设备的状态；修改数据结构的数据域或更新某些数据域的值来对数据包/网络设备作处理。数据结构设计得是否合理在很大程度上决定了：程序体系结构是否清晰；操作是否灵活；是否具备可扩展性。所以要理解 Linux 内核网络体系结构的设计思想和实现原理，首先应掌握代表网络子系统中各个实体的重要数据结构。

为什么`sk_buff`很重要？

> 因为其与TCP/IP协议栈关系密切，TCP/IP的各层中对`sk_buff`均有操作，不恰当地讲，整个过程像是发电报，数据包起初是要发送的话语，`sk_buff`就像写有这些话的草稿，TCP/IP在草稿上对话语进行简化，最后转发为统一的电码，满足发送条件。